<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AiMW ‚Äî Core AI Middleware</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <div class="bg-grid"></div>
  <header class="nav">
    <div class="brand">
      <div class="logo">A</div>
      <div>
        <div class="brand-name">AiMW</div>
        <div class="brand-sub">Core AI Middleware</div>
      </div>
    </div>
    <nav class="links">
      <a href="#pipeline">Pipeline</a>
      <a href="#memory">Memory</a>
      <a href="#execution">Execution</a>
      <a href="#observability">Observability</a>
    </nav>
    <button id="themeBtn" class="btn ghost" type="button">üåó</button>
  </header>

  <main class="wrap">
    <section class="hero">
      <div class="hero-left">
        <div class="chip">Infrastructure Layer ‚Ä¢ Deterministic Pipeline ‚Ä¢ RAG-ready</div>
        <h1>–°–æ–±–µ—Ä–∏ LLM‚Äë—Å–∏—Å—Ç–µ–º—É, –≥–¥–µ <span class="grad">–ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ</span>.</h1>
        <p class="lead">
          AiMW ‚Äî middleware –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ AI‚Äë–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏: –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è, –ø–∞–º—è—Ç—å, retrieval, –∞–≥–µ–Ω—Ç—ã –∏ –º–µ—Ç—Ä–∏–∫–∏ ‚Äî –≤ –æ–¥–Ω–æ–º backend‚Äë–ø–∞–π–ø–ª–∞–π–Ω–µ.
        </p>
        <div class="cta">
          <a class="btn" href="#demo">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥–µ–º–æ</a>
          <a class="btn ghost" href="#architecture">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É</a>
        </div>
        <div class="kpis">
          <div class="kpi">
            <div class="kpi-num">6</div>
            <div class="kpi-label">—à–∞–≥–æ–≤ lifecycle</div>
          </div>
          <div class="kpi">
            <div class="kpi-num">3</div>
            <div class="kpi-label">—Ç–∏–ø–∞ –ø–∞–º—è—Ç–∏</div>
          </div>
          <div class="kpi">
            <div class="kpi-num">‚àû</div>
            <div class="kpi-label">–∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –º–æ–¥–µ–ª–µ–π</div>
          </div>
        </div>
      </div>

      <div class="hero-card">
        <div class="card glow">
          <div class="card-head">
            <div class="dot d1"></div><div class="dot d2"></div><div class="dot d3"></div>
            <div class="card-title">request.trace</div>
          </div>
          <pre class="code" id="tracePreview">{
  "parse_normalize": "...",
  "classify_intent": "architecture",
  "decide_retrieval_memory": { "use_retrieval": true },
  "assemble_context": { "sources": 2 },
  "execute": { "adapter": "demo" },
  "postprocess": "response"
}</pre>
          <div class="card-foot">
            <span class="pill">soft minimal</span>
            <span class="pill neon">cyber accent</span>
            <span class="pill">FastAPI</span>
          </div>
        </div>
      </div>
    </section>

    <section id="architecture" class="grid3">
      <article class="panel">
        <h3>–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π lifecycle</h3>
        <p>–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –ï–¥–∏–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–æ–¥–µ–ª–∏ –∏ –∫–ª–∏–µ–Ω—Ç–∞.</p>
        <ul>
          <li>parse & normalize</li>
          <li>intent classification</li>
          <li>retrieval/memory decision</li>
        </ul>
      </article>
      <article class="panel">
        <h3>–ü–∞–º—è—Ç—å –∏ retrieval</h3>
        <p>Session / canonical / retrieval –ø–∞–º—è—Ç—å. RAG —á–µ—Ä–µ–∑ embeddings –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ (pgvector) –∏–ª–∏ –ª—ë–≥–∫–∏–π fallback –ª–æ–∫–∞–ª—å–Ω–æ.</p>
        <ul>
          <li>PostgreSQL + pgvector</li>
          <li>SQLite fallback</li>
          <li>score cutoffs</li>
        </ul>
      </article>
      <article class="panel">
        <h3>–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å</h3>
        <p>–ú–µ—Ç—Ä–∏–∫–∏ –∑–∞–¥–µ—Ä–∂–µ–∫, hit/miss retrieval, —Å–æ–±—ã—Ç–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞ ‚Äî —á—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏ –∫–∞—á–µ—Å—Ç–≤–æ.</p>
        <ul>
          <li>Prometheus export</li>
          <li>pipeline events</li>
          <li>latency budget</li>
        </ul>
      </article>
    </section>

    <section id="demo" class="demo">
      <div class="demo-head">
        <h2>–î–µ–º–æ: –ø—Ä–æ–≥–æ–Ω –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ –ø–∞–π–ø–ª–∞–π–Ω</h2>
        <p>–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –Ω–∞ <code>/api/chat</code>, –∞ —Ç—ã —É–≤–∏–¥–∏—à—å trace —à–∞–≥–æ–≤.</p>
      </div>

      <div class="demo-grid">
        <div class="panel">
          <label class="label">–¢–≤–æ–π –∑–∞–ø—Ä–æ—Å</label>
          <textarea id="chatInput" class="textarea" rows="5">–û–±—ä—è—Å–Ω–∏, –∫–æ–≥–¥–∞ AiMW –≤–∫–ª—é—á–∞–µ—Ç retrieval –∏ –∑–∞—á–µ–º –Ω—É–∂–µ–Ω pgvector.</textarea>
          <div class="row">
            <input id="namespace" class="input" value="default" />
            <button id="sendBtn" class="btn" type="button">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
          </div>
          <div class="row hint">
            <button id="seedBtn" class="btn ghost" type="button">–ó–∞–ø–æ–ª–Ω–∏—Ç—å –ø–∞–º—è—Ç—å –ø—Ä–∏–º–µ—Ä–æ–º</button>
            <span id="status" class="muted"></span>
          </div>
        </div>

        <div class="panel">
          <div class="split">
            <div>
              <div class="label">–û—Ç–≤–µ—Ç</div>
              <div id="chatOut" class="out"></div>
            </div>
            <div>
              <div class="label">Trace</div>
              <pre id="traceOut" class="out code"></pre>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="footer">
      <div class="footer-line"></div>
      <div class="muted">AiMW ‚Ä¢ minimal + soft + cyberpunk hint ‚Ä¢ v0.1 demo</div>
    </section>
  </main>

  <script src="/static/app.js"></script>
</body>
</html>
